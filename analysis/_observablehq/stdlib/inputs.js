var Gt=Object.defineProperty;var a=(e,t)=>Gt(e,"name",{value:t,configurable:!0});import{html as $}from"../../_npm/htl@0.3.1/+esm.js";import{AbstractFile as Jt}from"../stdlib.js";var Qt=Object.defineProperty,rt=a((e,t)=>Qt(e,"name",{value:t,configurable:!0}),"t$6");function B(e){return e==null?null:typeof e=="number"?`${e}px`:`${e}`}a(B,"length"),rt(B,"length");function I(e){return{"--input-width":B(e)}}a(I,"maybeWidth"),rt(I,"maybeWidth");var Xt=Object.defineProperty,Ae=a((e,t)=>Xt(e,"name",{value:t,configurable:!0}),"e$1");const Se={bubbles:!0};function Q(e){e.preventDefault()}a(Q,"preventDefault"),Ae(Q,"preventDefault");function ue({currentTarget:e}){(e.form||e).dispatchEvent(new Event("input",Se))}a(ue,"dispatchInput"),Ae(ue,"dispatchInput");function Ee(e){return e.checkValidity()}a(Ee,"checkValidity"),Ae(Ee,"checkValidity");var en=Object.defineProperty,tn=a((e,t)=>en(e,"name",{value:t,configurable:!0}),"n$6");function C(e){return e}a(C,"identity"),tn(C,"identity");var nn=Object.defineProperty,rn=a((e,t)=>nn(e,"name",{value:t,configurable:!0}),"n$5");let an=0;function se(){return`inputs-3a86ea-${++an}`}a(se,"newId"),rn(se,"newId");var on=Object.defineProperty,ln=a((e,t)=>on(e,"name",{value:t,configurable:!0}),"o$5");function D(e,t){if(e)return e=$`<label>${e}`,t!==void 0&&(e.htmlFor=t.id=se()),e}a(D,"maybeLabel"),ln(D,"maybeLabel");var un=Object.defineProperty,at=a((e,t)=>un(e,"name",{value:t,configurable:!0}),"m$2");function ot(e="\u2261",{label:t="",value:n,reduce:o,disabled:r,required:i=!1,width:u}={}){const f=typeof e=="string"||e instanceof Node;f?(!i&&n===void 0&&(n=0),o===void 0&&(o=at((p=0)=>p+1,"reduce")),r=new Set(r?[e]:[]),e=[[e,o]]):(!i&&n===void 0&&(n=null),r=new Set(r===!0?Array.from(e,([p])=>p):r||void 0));const d=$`<form class=inputs-3a86ea>`;d.addEventListener("submit",Q);const s={width:B(u)},m=Array.from(e,([p,g=C])=>{if(typeof g!="function")throw new TypeError("reduce is not a function");return $`<button disabled=${r.has(p)} style=${s} onclick=${b=>{d.value=g(d.value),ue(b)}}>${p}`});return(t=D(t,f?m[0]:void 0))&&d.append(t),d.append(...m),d.value=n,d}a(ot,"button"),at(ot,"button");var sn=Object.defineProperty,Te=a((e,t)=>sn(e,"name",{value:t,configurable:!0}),"n$4");function Z(e){return Array.isArray(e)?e:Array.from(e)}a(Z,"arrayify"),Te(Z,"arrayify");function De(e){return e?typeof e[Symbol.iterator]=="function":!1}a(De,"o$4"),Te(De,"iterable");function ze(e){if(De(e.columns))return e.columns;if(e.schema&&De(e.schema.fields))return Array.from(e.schema.fields,t=>t.name);if(typeof e.columnNames=="function")return e.columnNames()}a(ze,"maybeColumns"),Te(ze,"maybeColumns");var cn=Object.defineProperty,Le=a((e,t)=>cn(e,"name",{value:t,configurable:!0}),"i$3");function it(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),o=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return`${lt(e.getUTCFullYear())}-${q(e.getUTCMonth()+1,2)}-${q(e.getUTCDate(),2)}${n||o||r||i?`T${q(n,2)}:${q(o,2)}${r||i?`:${q(r,2)}${i?`.${q(i,3)}`:""}`:""}Z`:""}`}a(it,"c$2"),Le(it,"format");function lt(e){return e<0?`-${q(-e,6)}`:e>9999?`+${q(e,6)}`:q(e,4)}a(lt,"f$3"),Le(lt,"formatYear");function q(e,t){return`${e}`.padStart(t,"0")}a(q,"t$4"),Le(q,"pad");var fn=Object.defineProperty,dn=a((e,t)=>fn(e,"name",{value:t,configurable:!0}),"t$3");const vn=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function ut(e,t){return vn.test(e+="")?new Date(e):typeof t=="function"?t(e):t}a(ut,"r$4"),dn(ut,"parse");var mn=Object.defineProperty,$e=a((e,t)=>mn(e,"name",{value:t,configurable:!0}),"i$2");function K(e){return e==null?"":`${e}`}a(K,"stringify"),$e(K,"stringify");const be=fe(e=>{const t=ce(e);return n=>n==null?"":typeof n=="number"?t(n):n instanceof Date?he(n):`${n}`}),ce=fe(e=>t=>t===0?"0":t.toLocaleString(e)),pn=be(),$n=ce();function Ce(e){const t=e.toString(),n=t.length;let o=-1,r;e:for(let i=1;i<n;++i)switch(t[i]){case".":o=r=i;break;case"0":o===0&&(o=i),r=i;break;default:if(!+t[i])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(r+1):t}a(Ce,"formatTrim"),$e(Ce,"formatTrim");function he(e){return it(e,"Invalid Date")}a(he,"formatDate"),$e(he,"formatDate");function fe(e){let t=fe,n;return(o="en")=>o===t?n:n=e(t=o)}a(fe,"localize"),$e(fe,"localize");var bn=Object.defineProperty,qe=a((e,t)=>bn(e,"name",{value:t,configurable:!0}),"r$3");function ye(e,t){return X(t)-X(e)||(e<t?-1:e>t?1:e>=t?0:NaN)}a(ye,"ascending"),qe(ye,"ascending");function Me(e,t){return X(t)-X(e)||(t<e?-1:t>e?1:t>=e?0:NaN)}a(Me,"descending"),qe(Me,"descending");function X(e){return e!=null&&!Number.isNaN(e)}a(X,"defined"),qe(X,"defined");var hn=Object.defineProperty,M=a((e,t)=>hn(e,"name",{value:t,configurable:!0}),"o$2");const yn=M(([e])=>e,"first"),st=M(([,e])=>e,"second");function Fe({multiple:e,render:t,selectedIndexes:n,select:o}){return M(function(r,{locale:i,keyof:u=r instanceof Map?yn:C,valueof:f=r instanceof Map?st:C,format:d=(_=>(y,j,x)=>_(u(y,j,x)))(be(i)),multiple:s,key:m,value:p,disabled:g=!1,sort:b,unique:h,...N}={}){if(typeof u!="function")throw new TypeError("keyof is not a function");if(typeof f!="function")throw new TypeError("valueof is not a function");if(typeof d!="function")throw new TypeError("format is not a function");e!==void 0&&(s=e),b=dt(b);let _=+s;p===void 0&&(p=m!==void 0&&r instanceof Map?_>0?Array.from(m,k=>r.get(k)):r.get(m):void 0),h=!!h,r=Z(r);let y=r.map((k,P)=>[u(k,P,r),P]);b!==void 0&&y.sort(([k],[P])=>b(k,P)),h&&(y=[...new Map(y.map(k=>[mt(k[0]),k])).values()]);const j=y.map(st);s===!0?_=Math.max(1,Math.min(10,j.length)):_>0?s=!0:(s=!1,_=void 0);const[x,v]=t(r,j,ct(r,j,p,s,f),ft(r,j,g,f),{...N,format:d,multiple:s,size:_});x.addEventListener("input",w),x.addEventListener("change",ue),x.addEventListener("submit",Q);function w(k){if(k&&k.isTrusted&&x.removeEventListener("change",ue),s)p=n(v).map(P=>f(r[P],P,r));else{const P=vt(v);p=P<0?null:f(r[P],P,r)}}return a(w,"T"),M(w,"oninput"),w(),Object.defineProperty(x,"value",{get(){return p},set(k){if(s){const P=new Set(k);for(const z of v){const R=+z.value;o(z,P.has(f(r[R],R,r)))}}else v.value=j.find(P=>k===f(r[P],P,r));w()}})},"chooser")}a(Fe,"createChooser"),M(Fe,"createChooser");function ct(e,t,n,o,r){const i=new Set(n===void 0?[]:o?Z(n):[n]);if(!i.size)return()=>!1;const u=new Set;for(const f of t)i.has(r(e[f],f,e))&&u.add(f);return f=>u.has(f)}a(ct,"J"),M(ct,"maybeSelection");function ft(e,t,n,o){if(typeof n=="boolean")return n;const r=new Set(Z(n)),i=new Set;for(const u of t)r.has(o(e[u],u,e))&&i.add(u);return u=>i.has(u)}a(ft,"K"),M(ft,"maybeDisabled");function dt(e){if(!(e===void 0||e===!1)){if(e===!0||e==="ascending")return ye;if(e==="descending")return Me;if(typeof e=="function")return e;throw new TypeError("sort is not a function")}}a(dt,"N$1"),M(dt,"maybeSort");function vt(e){return e.value?+e.value:-1}a(vt,"Q"),M(vt,"selectedIndex");function mt(e){return e!==null&&typeof e=="object"?e.valueOf():e}a(mt,"R$1"),M(mt,"intern");var gn=Object.defineProperty,ee=a((e,t)=>gn(e,"name",{value:t,configurable:!0}),"u");function Re(e,t){return Fe({multiple:e,render(n,o,r,i,{format:u,label:f}){const d=$`<form class="inputs-3a86ea inputs-3a86ea-checkbox">
      ${D(f)}<div>
        ${o.map(s=>$`<label><input type=${t} disabled=${typeof i=="function"?i(s):i} name=input value=${s} checked=${r(s)}>${u(n[s],s,n)}`)}
      </div>
    </form>`;return[d,$t(d.elements.input,e)]},selectedIndexes(n){return Array.from(n).filter(o=>o.checked).map(o=>+o.value)},select(n,o){n.checked=o}})}a(Re,"_"),ee(Re,"createCheckbox");const _n=Re(!1,"radio"),wn=Re(!0,"checkbox");function pt({label:e,value:t,values:n,disabled:o}={}){const r=$`<input class=inputs-3a86ea-input type=checkbox name=input disabled=${o}>`,i=$`<form class="inputs-3a86ea inputs-3a86ea-toggle">${D(e,r)}${r}`;return Object.defineProperty(i,"value",{get(){return n===void 0?r.checked:n[r.checked?0:1]},set(u){r.checked=n===void 0?!!u:u===n[0]}}),t!==void 0&&(i.value=t),i}a(pt,"toggle"),ee(pt,"toggle");function $t(e,t){return e===void 0?new On(t?[]:null):typeof e.length>"u"?new(t?kn:xn)(e):e}a($t,"k$1"),ee($t,"inputof");let On=class{static{a(this,"v")}static{ee(this,"OptionZero")}constructor(t){this._value=t}get value(){return this._value}set value(t){}*[Symbol.iterator](){}};class xn{static{a(this,"y")}static{ee(this,"OptionOne")}constructor(t){this._input=t}get value(){const{_input:t}=this;return t.checked?t.value:""}set value(t){const{_input:n}=this;n.checked||(n.checked=K(t)===n.value)}*[Symbol.iterator](){yield this._input}}let kn=class{static{a(this,"b")}static{ee(this,"MultipleOptionOne")}constructor(t){this._input=t,this._value=t.checked?[t.value]:[]}get value(){return this._value}set value(t){const{_input:n}=this;n.checked||(n.checked=K(t)===n.value,this._value=n.checked?[n.value]:[])}*[Symbol.iterator](){yield this._input}};var jn=Object.defineProperty,Nn=a((e,t)=>jn(e,"name",{value:t,configurable:!0}),"i$1");function ge(e){if(e===void 0)return[null,null];const t=se();return[$`<datalist id=${t}>${Array.from(e,n=>$`<option value=${K(n)}>`)}`,t]}a(ge,"maybeDatalist"),Nn(ge,"maybeDatalist");var Pn=Object.defineProperty,T=a((e,t)=>Pn(e,"name",{value:t,configurable:!0}),"e");function te(e,t,n,{validate:o=Ee,submit:r}={},{get:i=T(s=>s.value,"get"),set:u=T((s,m)=>s.value=K(m),"set"),same:f=T((s,m)=>s.value===m,"same"),after:d=T(s=>t.after(s),"after")}={}){r=r===!0?"Submit":r||null;const s=r?$`<button type=submit disabled>${r}`:null;r&&d(s),u(t,n),n=o(t)?i(t):void 0,e.addEventListener("submit",p),t.oninput=g;function m(){if(o(t))return n=i(t),!0}a(m,"i"),T(m,"update");function p(b){Q(b),r&&(m()?(s.disabled=!0,ue(b)):t.reportValidity())}a(p,"d"),T(p,"onsubmit");function g(b){r?(s.disabled=f(t,n),b.stopPropagation()):m()||b.stopPropagation()}return a(g,"m"),T(g,"oninput"),Object.defineProperty(e,"value",{get(){return n},set(b){u(t,b),m()}})}a(te,"createText"),T(te,"createText");function ne({label:e,value:t="",type:n="text",placeholder:o,pattern:r,spellcheck:i,autocomplete:u,autocapitalize:f,min:d,max:s,minlength:m,maxlength:p,required:g=m>0,datalist:b,readonly:h,disabled:N,width:_,...y}={}){const[j,x]=ge(b),v=$`<input
    type=${n}
    name=text
    list=${x}
    readonly=${h}
    disabled=${N}
    required=${g}
    min=${d}
    max=${s}
    minlength=${m}
    maxlength=${p}
    pattern=${r}
    spellcheck=${_e(i)}
    autocomplete=${W(u)}
    autocapitalize=${W(f)}
    placeholder=${o}
  >`,w=$`<form class=inputs-3a86ea style=${I(_)}>
    ${D(e,v)}<div class=inputs-3a86ea-input>
      ${v}
    </div>${j}
  </form>`;return te(w,v,t,y)}a(ne,"text"),T(ne,"text");function bt(e){return ne({...e,type:"email"})}a(bt,"email"),T(bt,"email");function ht(e){return ne({...e,type:"tel"})}a(ht,"tel"),T(ht,"tel");function yt(e){return ne({...e,type:"url"})}a(yt,"url"),T(yt,"url");function gt(e){return ne({...e,type:"password"})}a(gt,"password"),T(gt,"password");function _e(e){return e==null?null:`${e}`}a(_e,"truefalse"),T(_e,"truefalse");function W(e){return e==null?null:`${e===!1?"off":e===!0?"on":e}`}a(W,"onoff"),T(W,"onoff");var An=Object.defineProperty,Sn=a((e,t)=>An(e,"name",{value:t,configurable:!0}),"a$1");function _t({label:e,value:t,required:n,datalist:o,readonly:r,disabled:i,width:u,...f}={}){const[d,s]=ge(o),m=se(),p=$`<input
    type=color
    name=text
    value=${t}
    id=${m}
    list=${s}
    readonly=${r}
    disabled=${i}
    required=${n}
  >`,g=$`<output
    for=${m}
  >`;g.value=p.value,p.addEventListener("input",()=>g.value=p.value);const b=$`<form class=inputs-3a86ea style=${I(u)}>
    ${D(e,p)}<div class=inputs-3a86ea-input>
      <div class=inputs-3a86ea-input>${p}${g}</div>
    </div>${d}
  </form>`;return te(b,p,t,f,{after:h=>p.parentNode.after(h)})}a(_t,"color"),Sn(_t,"color");var En=Object.defineProperty,re=a((e,t)=>En(e,"name",{value:t,configurable:!0}),"n$2");const Tn={type:"date",get:e=>e.valueAsDate,set:(e,t)=>e.value=Ie(t),same:(e,t)=>+e.valueAsDate==+t,format:Ie},Dn={type:"datetime-local",get:e=>e.value?new Date(e.value):null,set:(e,t)=>e.value=He(t),same:(e,t)=>+new Date(e.value)==+t,format:He};function Ue({label:e,min:t,max:n,required:o,readonly:r,disabled:i,width:u,value:f,...d}={},{type:s,format:m,...p}){const g=$`<input type=${s} name=date readonly=${r} disabled=${i} required=${o} min=${m(t)} max=${m(n)}>`,b=$`<form class=inputs-3a86ea style=${I(u)}>
    ${D(e,g)}<div class=inputs-3a86ea-input>
      ${g}
    </div>
  </form>`;return te(b,g,we(f),d,p)}a(Ue,"s$1"),re(Ue,"createDate");function wt(e){return Ue(e,Tn)}a(wt,"date"),re(wt,"date");function Ot(e){return Ue(e,Dn)}a(Ot,"datetime"),re(Ot,"datetime");function we(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?ut(e,null):e==null||isNaN(e=+e)?null:new Date(+e)}a(we,"o$1"),re(we,"coerce");function Ie(e){return(e=we(e))?e.toISOString().slice(0,10):e}a(Ie,"m$1"),re(Ie,"formatDate");function He(e){return(e=we(e))?new Date(+e-e.getTimezoneOffset()*1e3*60).toISOString().slice(0,16):e}a(He,"f$2"),re(He,"formatDatetime");var zn=Object.defineProperty,de=a((e,t)=>zn(e,"name",{value:t,configurable:!0}),"c$1");function xt(e,t){return(Array.isArray(e)?jt:Pt)(e,t)}a(xt,"form"),de(xt,"form");function kt(e){return $`<div>${e}`}a(kt,"v$1"),de(kt,"arrayTemplate");function jt(e,{template:t=kt}={}){e=[...e];let n=e.map(({value:o})=>o);return Object.defineProperty(t(e),"value",{get(){for(let o=0,r=e.length;o<r;++o){const i=e[o].value;Object.is(i,n[o])||(n=[...n],n[o]=i)}return n},set(o=[]){for(let r=0,i=e.length;r<i;++r)e[r].value=o[r]}})}a(jt,"m"),de(jt,"arrayForm");function Nt(e){return $`<div>${Object.values(e)}`}a(Nt,"b$1"),de(Nt,"objectTemplate");function Pt(e,{template:t=Nt}={}){e={...e};let n=Object.fromEntries(Object.entries(e).map(([o,{value:r}])=>[o,r]));return Object.defineProperty(t(e),"value",{get(){for(const o in n){const r=e[o].value;Object.is(r,n[o])||(n={...n},n[o]=r)}return n},set(o={}){for(const r in e)e[r].value=o[r]}})}a(Pt,"j$1"),de(Pt,"objectForm");var Ln=Object.defineProperty,Be=a((e,t)=>Ln(e,"name",{value:t,configurable:!0}),"r$2");function Ve(e){class t extends e{static{a(this,"e")}static{Be(this,"LocalFile")}constructor(o){super(o.name),Object.defineProperty(this,"_",{value:o}),Object.defineProperty(this,"_url",{writable:!0})}async url(){return this._url||(this._url=URL.createObjectURL(this._))}async blob(){return this._}async stream(){return this._.stream()}}return Be(function({label:n,required:o,accept:r,capture:i,multiple:u,disabled:f,width:d,value:s,submit:m,...p}={}){const g=$`<input
      type=file
      name=file
      disabled=${f}
      required=${o}
      accept=${r}
      capture=${i}
      multiple=${u}
    >`,b=$`<form class=inputs-3a86ea style=${I(d)}>
      ${D(n,g)}<div class=inputs-3a86ea-input>
        ${g}
      </div>
    </form>`;return te(b,g,void 0,p,{get:h=>u?Array.from(h.files,N=>new t(N)):h.files.length?new t(h.files[0]):null,set:()=>{},same:()=>!1})},"file")}a(Ve,"fileOf"),Be(Ve,"fileOf");var Cn=Object.defineProperty,F=a((e,t)=>Cn(e,"name",{value:t,configurable:!0}),"l$1");const Oe=1e-6;function At(e,t){return arguments.length<2&&(t=e,e=void 0),e===void 0&&(e=[]),Ze({extent:e},t)}a(At,"number"),F(At,"number");function St(e=[0,1],t){return Ze({extent:e,range:!0},t)}a(St,"range"),F(St,"range");function Ze({extent:[e,t],range:n},{format:o=Ce,transform:r,invert:i,label:u="",value:f,step:d,disabled:s,placeholder:m,validate:p=Ee,width:g}={}){let b;if(typeof o!="function")throw new TypeError("format is not a function");(e==null||isNaN(e=+e))&&(e=-1/0),(t==null||isNaN(t=+t))&&(t=1/0),e>t&&([e,t]=[t,e],r===void 0&&(r=xe)),d!==void 0&&(d=+d);const h=$`<input type=number min=${isFinite(e)?e:null} max=${isFinite(t)?t:null} step=${d??"any"} name=number required placeholder=${m} oninput=${x} disabled=${s}>`;let N;if(n){if(r===void 0&&(r=C),typeof r!="function")throw new TypeError("transform is not a function");if(i===void 0&&(i=r.invert===void 0?Tt(r):r.invert),typeof i!="function")throw new TypeError("invert is not a function");let v=+r(e),w=+r(t);v>w&&([v,w]=[w,v]),n=$`<input type=range min=${isFinite(v)?v:null} max=${isFinite(w)?w:null} step=${d===void 0||r!==C&&r!==xe?"any":d} name=range oninput=${j} disabled=${s}>`,N=r===C?n:$`<input type=range min=${e} max=${t} step=${d===void 0?"any":d} name=range disabled=${s}>`}else n=null,r=i=C;const _=$`<form class=inputs-3a86ea style=${I(g)}>
    ${D(u,h)}<div class=inputs-3a86ea-input>
      ${h}${n}
    </div>
  </form>`;_.addEventListener("submit",Q);function y(v){return N?(v=Math.max(e,Math.min(t,v)),isFinite(v)?(N.valueAsNumber=v,N.valueAsNumber):v):+v}a(y,"M"),F(y,"coerce");function j(v){const w=y(i(n.valueAsNumber));if(isFinite(w)&&(h.valueAsNumber=Math.max(e,Math.min(t,w)),p(h))){b=h.valueAsNumber,h.value=o(b);return}v&&v.stopPropagation()}a(j,"w"),F(j,"onrange");function x(v){const w=y(h.valueAsNumber);if(isFinite(w)&&(n&&(n.valueAsNumber=r(w)),p(h))){b=w;return}v&&v.stopPropagation()}return a(x,"E"),F(x,"onnumber"),Object.defineProperty(_,"value",{get(){return b},set(v){v=y(v),isFinite(v)&&(h.valueAsNumber=v,n&&(n.valueAsNumber=r(v)),p(h)&&(b=v,h.value=o(b)))}}),f===void 0&&N&&(f=N.valueAsNumber),f!==void 0&&(_.value=f),_}a(Ze,"g"),F(Ze,"createRange");function xe(e){return-e}a(xe,"v"),F(xe,"negate");function Et(e){return e*e}a(Et,"k"),F(Et,"square");function Tt(e){return e===C||e===xe?e:e===Math.sqrt?Et:e===Math.log?Math.exp:e===Math.exp?Math.log:t=>Dt(e,t,t)}a(Tt,"D"),F(Tt,"solver");function Dt(e,t,n){let o=100,r,i,u;n=n===void 0?0:+n,t=+t;do i=e(n),u=e(n+Oe),i===u&&(u=i+Oe),n-=r=-1*Oe*(i-t)/(i-u);while(o-- >0&&Math.abs(r)>Oe);return o<0?NaN:n}a(Dt,"O"),F(Dt,"solve");var qn=Object.defineProperty,Y=a((e,t)=>qn(e,"name",{value:t,configurable:!0}),"n$1");function zt(e,{locale:t,format:n=Mn(t),label:o,query:r="",placeholder:i="Search",columns:u=ze(e),spellcheck:f,autocomplete:d,autocapitalize:s,filter:m=u===void 0?Ke:Lt(u),datalist:p,disabled:g,required:b=!0,width:h}={}){let N=[];e=Z(e),b=!!b;const[_,y]=ge(p),j=$`<input
    name=input
    type=search
    list=${y}
    disabled=${g}
    spellcheck=${_e(f)}
    autocomplete=${W(d)}
    autocapitalize=${W(s)}
    placeholder=${i}
    value=${r}
    oninput=${w}
  >`,x=$`<output name=output>`,v=$`<form class=inputs-3a86ea style=${I(h)}>
    ${D(o,j)}<div class=inputs-3a86ea-input>
      ${j}${x}
    </div>${_}
  </form>`;v.addEventListener("submit",Q);function w(){N=j.value||b?e.filter(m(j.value)):[],u!==void 0&&(N.columns=u),x.value=n(N.length)}return a(w,"c"),Y(w,"oninput"),w(),Object.defineProperties(v,{value:{get(){return N}},query:{get(){return r},set(k){r=j.value=K(k),w()}}})}a(zt,"search"),Y(zt,"search");function Ke(e){const t=`${e}`.split(/\s+/g).filter(n=>n).map(We);return n=>{if(n==null)return!1;if(typeof n=="object")e:for(const o of t){for(const r of Ct(n))if(o.test(r))continue e;return!1}else for(const o of t)if(!o.test(n))return!1;return!0}}a(Ke,"searchFilter"),Y(Ke,"searchFilter");function Lt(e){return t=>{const n=`${t}`.split(/\s+/g).filter(o=>o).map(We);return o=>{e:for(const r of n){for(const i of e)if(r.test(o[i]))continue e;return!1}return!0}}}a(Lt,"W"),Y(Lt,"columnFilter");function*Ct(e){for(const t in e)yield e[t]}a(Ct,"A"),Y(Ct,"valuesof");function We(e){return new RegExp(`(?:^|[^\\p{L}-])${qt(e)}`,"iu")}a(We,"b"),Y(We,"termFilter");function qt(e){return e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}a(qt,"B$1"),Y(qt,"escapeRegExp");const Mn=fe(e=>{const t=ce(e);return n=>`${t(n)} result${n===1?"":"s"}`}),Fn=Fe({render(e,t,n,o,{format:r,multiple:i,size:u,label:f,width:d}){const s=$`<select class=inputs-3a86ea-input disabled=${o===!0} multiple=${i} size=${u} name=input>
      ${t.map(m=>$`<option value=${m} disabled=${typeof o=="function"?o(m):!1} selected=${n(m)}>${K(r(e[m],m,e))}`)}
    </select>`;return[$`<form class=inputs-3a86ea style=${I(d)}>${D(f,s)}${s}`,s]},selectedIndexes(e){return Array.from(e.selectedOptions,t=>+t.value)},select(e,t){e.selected=t}});var Rn=Object.defineProperty,S=a((e,t)=>Rn(e,"name",{value:t,configurable:!0}),"l");const Mt=22;function Ft(e,t={}){const{rows:n=11.5,height:o,maxHeight:r=o===void 0?(n+1)*Mt-1:void 0,width:i={},maxWidth:u}=t,f=se(),d=$`<form class="inputs-3a86ea inputs-3a86ea-table" id=${f} style=${{height:B(o),maxHeight:B(r),width:typeof i=="string"||typeof i=="number"?B(i):void 0,maxWidth:B(u)}}>`;return e&&typeof e.then=="function"?(Object.defineProperty(d,"value",{configurable:!0,set(){throw new Error("cannot set value while data is unresolved")}}),Promise.resolve(e).then(s=>Ye({root:d,id:f},s,t))):Ye({root:d,id:f},e,t),d}a(Ft,"table"),S(Ft,"table");function Ye({root:e,id:t},n,{columns:o=ze(n),value:r,required:i=!0,sort:u,reverse:f=!1,format:d,locale:s,align:m,header:p,rows:g=11.5,width:b={},multiple:h=!0,layout:N}={}){o=o===void 0?Ht(n):Z(o),N===void 0&&(N=o.length>=12?"auto":"fixed"),d=Rt(d,n,o,s),m=Ut(m,n,o);let _=[],y=[],j=n[Symbol.iterator](),x=0,v=It(n),w=P(g*2);function k(){x>=0&&(x=j=void 0,y=Uint32Array.from(_=Z(n),(l,c)=>c),v=y.length)}a(k,"p"),S(k,"materialize");function P(l){if(l=Math.floor(l),v!==void 0)return Math.min(v,l);if(l<=x)return l;for(;l>x;){const{done:c,value:O}=j.next();if(c)return v=x;y.push(x++),_.push(O)}return x}a(P,"C"),S(P,"minlengthof");let z=null,R=!1,A=new Set,H=null,V=null;const L=$`<tbody>`,Yt=$`<tr><td><input type=${h?"checkbox":"radio"} name=${h?null:"radio"}></td>${o.map(()=>$`<td>`)}`,ve=$`<tr><th><input type=checkbox onclick=${tt} disabled=${!h}></th>${o.map(l=>$`<th title=${l} onclick=${c=>Pe(c,l)}><span></span>${p&&l in p?p[l]:l}</th>`)}</tr>`;e.appendChild($.fragment`<table style=${{tableLayout:N}}>
  <thead>${P(1)||o.length?ve:null}</thead>
  ${L}
</table>
<style>${o.map((l,c)=>{const O=[];if(m[l]!=null&&O.push(`text-align:${m[l]}`),b[l]!=null&&O.push(`width:${B(b[l])}`),O.length)return`#${t} tr>:nth-child(${c+2}){${O.join(";")}}`}).filter(C).join(`
`)}</style>`);function me(l,c){if(x===l){for(;l<c;++l)je(j.next().value,l);x=c}else for(let O;l<c;++l)O=y[l],je(_[O],O)}a(me,"q"),S(me,"appendRows");function je(l,c){const O=Yt.cloneNode(!0),E=ae(O);if(E.onclick=nt,E.checked=A.has(c),E.value=c,l!=null)for(let J=0;J<o.length;++J){let pe=o[J],U=l[pe];X(U)&&(U=d[pe](U,c,n),U instanceof Node||(U=document.createTextNode(U)),O.childNodes[J+1].appendChild(U))}L.append(O)}a(je,"G"),S(je,"appendRow");function G(l){k();let c=y.indexOf(l);if(c<L.childNodes.length){const O=L.childNodes[c];ae(O).checked=!1}A.delete(l)}a(G,"H"),S(G,"unselect");function ie(l){k();let c=y.indexOf(l);if(c<L.childNodes.length){const O=L.childNodes[c];ae(O).checked=!0}A.add(l)}a(ie,"v"),S(ie,"select");function*Ne(l,c){if(k(),l=y.indexOf(l),c=y.indexOf(c),l<c)for(;l<=c;)yield y[l++];else for(;c<=l;)yield y[c++]}a(Ne,"J"),S(Ne,"range");function et(l){return l[Symbol.iterator]().next().value}a(et,"ne"),S(et,"first");function tt(l){if(k(),this.checked){A=new Set(y);for(const c of L.childNodes)ae(c).checked=!0}else{for(let c of A)G(c);H=V=null,l.detail&&l.currentTarget.blur()}le()}a(tt,"ie"),S(tt,"reselectAll");function nt(l){k();let c=+this.value;if(h)if(l.shiftKey){if(H===null)H=A.size?et(A):y[0];else for(let O of Ne(H,V))G(O);V=c;for(let O of Ne(H,V))ie(O)}else H=V=c,A.has(c)?(G(c),H=V=null,l.detail&&l.currentTarget.blur()):ie(c);else{for(let O of A)G(O);ie(c)}le()}a(nt,"re"),S(nt,"reselect");function Pe(l,c){k();const O=l.currentTarget;let E;if(z===O&&l.metaKey)ke(z).textContent="",z=null,R=!1,E=ye;else{z===O?R=!R:(z&&(ke(z).textContent=""),z=O,R=l.altKey);const J=R?Me:ye;E=S((pe,U)=>J(_[pe][c],_[U][c]),"compare"),ke(O).textContent=R?"\u25BE":"\u25B4"}for(y.sort(E),A=new Set(Array.from(A).sort(E)),e.scrollTo(e.scrollLeft,0);L.firstChild;)L.firstChild.remove();me(0,w=P(g*2)),H=V=null,le()}a(Pe,"Q"),S(Pe,"resort");function le(){const l=ae(ve);l.disabled=!h&&!A.size,l.indeterminate=h&&A.size&&A.size!==v,l.checked=A.size,r=void 0}if(a(le,"D"),S(le,"reinput"),e.addEventListener("scroll",()=>{e.scrollHeight-e.scrollTop<g*Mt*1.5&&w<P(w+1)&&me(w,w=P(w+g))}),u===void 0&&f&&(k(),y.reverse()),r!==void 0){if(k(),h){const l=new Set(r);A=new Set(y.filter(c=>l.has(_[c])))}else{const l=_.indexOf(r);A=l<0?new Set:new Set([l])}le()}if(P(1)?me(0,w):L.append($`<tr>${o.length?$`<td>`:null}<td rowspan=${o.length} style="padding-left: var(--length3); font-style: italic;">No results.</td></tr>`),u!==void 0){let l=o.indexOf(u);l>=0&&(f&&(z=ve.childNodes[l+1]),Pe({currentTarget:ve.childNodes[l+1]},o[l]))}return Object.defineProperty(e,"value",{get(){if(r===void 0)if(k(),h)r=Array.from(i&&A.size===0?y:A,l=>_[l]),r.columns=o;else if(A.size){const[l]=A;r=_[l]}else r=null;return r},set(l){if(k(),h){const c=new Set(l),O=new Set(y.filter(E=>c.has(_[E])));for(const E of A)O.has(E)||G(E);for(const E of O)A.has(E)||ie(E)}else{const c=_.indexOf(l);A=c<0?new Set:new Set([c])}r=void 0}})}a(Ye,"Z"),S(Ye,"initialize");function ae(e){return e.firstChild.firstChild}a(ae,"R"),S(ae,"inputof");function ke(e){return e.firstChild}a(ke,"B"),S(ke,"orderof");function Rt(e={},t,n,o){const r=Object.create(null);for(const i of n){if(i in e){r[i]=e[i];continue}switch(Ge(t,i)){case"number":r[i]=ce(o);break;case"date":r[i]=he;break;default:r[i]=be(o);break}}return r}a(Rt,"pe"),S(Rt,"formatof");function Ut(e={},t,n){const o=Object.create(null);for(const r of n)r in e?o[r]=e[r]:Ge(t,r)==="number"&&(o[r]="right");return o}a(Ut,"ye"),S(Ut,"alignof");function Ge(e,t){for(const n of e){if(n==null)continue;const o=n[t];if(o!=null)return typeof o=="number"?"number":o instanceof Date?"date":void 0}}a(Ge,"ee"),S(Ge,"type");function It(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size;if(typeof e.numRows=="function")return e.numRows()}a(It,"be"),S(It,"lengthof");function Ht(e){const t=new Set;for(const n of e)for(const o in n)t.add(o);return Array.from(t)}a(Ht,"me"),S(Ht,"columnsof");var Un=Object.defineProperty,Bt=a((e,t)=>Un(e,"name",{value:t,configurable:!0}),"a");function Vt({value:e="",label:t,placeholder:n,spellcheck:o,autocomplete:r,autocapitalize:i,rows:u=3,minlength:f,maxlength:d,required:s=f>0,readonly:m,disabled:p,monospace:g=!1,resize:b=u<12,width:h,...N}={}){const _=$`<textarea
    name=text
    readonly=${m}
    disabled=${p}
    required=${s}
    rows=${u}
    minlength=${f}
    maxlength=${d}
    spellcheck=${_e(o)}
    autocomplete=${W(r)}
    autocapitalize=${W(i)}
    placeholder=${n}
    onkeydown=${j}
    style=${{width:h,fontFamily:g?"var(--monospace, monospace)":null,resize:b?null:"none"}}
  >`,y=$`<form class="inputs-3a86ea inputs-3a86ea-textarea" style=${I(h)}>
    ${D(t,_)}<div>
      ${_}
    </div>
  </form>`;function j(x){if(N.submit&&x.key==="Enter"&&(x.metaKey||x.ctrlKey))return y.dispatchEvent(new Event("submit",Se))}return a(j,"v"),Bt(j,"onkeydown"),te(y,_,e,N)}a(Vt,"textarea"),Bt(Vt,"textarea");var In=Object.defineProperty,Hn=a((e,t)=>In(e,"name",{value:t,configurable:!0}),"n");function Zt(e){const t=new EventTarget;return t.value=e,t}a(Zt,"input"),Hn(Zt,"input");var Bn=Object.defineProperty,Vn=a((e,t)=>Bn(e,"name",{value:t,configurable:!0}),"s");function Je(e){return new Promise(t=>{requestAnimationFrame(()=>{const n=e.closest(".observablehq");if(!n)return t();const o=new MutationObserver(()=>{n.contains(e)||(o.disconnect(),t())});o.observe(n,{childList:!0})})})}a(Je,"disposal"),Vn(Je,"disposal");var Zn=Object.defineProperty,oe=a((e,t)=>Zn(e,"name",{value:t,configurable:!0}),"c");function Kt(e,t,n=Je(e)){const o=Xe(t),r=oe(()=>Qe(e,t),"onsource"),i=oe(()=>(Qe(t,e),t.dispatchEvent(new Event(o,Se))),"ontarget");return r(),e.addEventListener(Xe(e),i),t.addEventListener(o,r),n.then(()=>t.removeEventListener(o,r)),e}a(Kt,"bind"),oe(Kt,"bind");function Wt(e){switch(e.type){case"range":case"number":return e.valueAsNumber;case"date":return e.valueAsDate;case"checkbox":return e.checked;case"file":return e.multiple?e.files:e.files[0];default:return e.value}}a(Wt,"f"),oe(Wt,"get");function Qe(e,t){const n=Wt(t);switch(e.type){case"range":case"number":e.valueAsNumber=n;break;case"date":e.valueAsDate=n;break;case"checkbox":e.checked=n;break;case"file":e.multiple?e.files=n:e.files=[n];break;default:e.value=n;break}}a(Qe,"r"),oe(Qe,"set");function Xe(e){switch(e.type){case"button":case"submit":return"click";case"file":return"change";default:return"input"}}a(Xe,"t$1"),oe(Xe,"eventof");const Kn=Ve(Jt);export{Kt as bind,ot as button,wn as checkbox,_t as color,wt as date,Ot as datetime,Je as disposal,bt as email,Kn as file,Ve as fileOf,xt as form,pn as formatAuto,he as formatDate,be as formatLocaleAuto,ce as formatLocaleNumber,$n as formatNumber,Ce as formatTrim,Zt as input,At as number,gt as password,_n as radio,St as range,zt as search,Ke as searchFilter,Fn as select,Ft as table,ht as tel,ne as text,Vt as textarea,pt as toggle,yt as url};
